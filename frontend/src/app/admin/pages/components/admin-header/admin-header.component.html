<nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
  <div class="navbar-brand-wrapper d-flex justify-content-center">
    <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
      <a class="navbar-brand brand-logo" routerLink="/admin/dashboard" aria-label="DFashion dashboard">
        <img [src]="apiUrl + '/uploads/logo/logo.svg'" alt="logo" (error)="handleImageError($event)" />
      </a>
      <a class="navbar-brand brand-logo-mini" routerLink="/admin/dashboard" aria-hidden="true">
        <img [src]="apiUrl + '/uploads/logo/logo-mini.svg'" alt="logo-mini" (error)="handleImageError($event)" />
      </a>
      <button class="navbar-toggler navbar-toggler align-self-center" type="button" (click)="toggleSidebar()">
        <span class="typcn typcn-th-menu"></span>
      </button>
    </div>
  </div>
  <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
    <ul class="navbar-nav me-lg-2">
      <li class="nav-item nav-profile" ngbDropdown>
        <a class="nav-link" id="profileDropdown" role="button" ngbDropdownToggle>
          <img class="profile-avatar" [src]="(currentUser$ | async)?.avatar || (apiUrl + '/uploads/avatars/default-avatar.svg')" alt="profile" (error)="handleImageError($event)"/>
          <span class="nav-profile-name">{{(currentUser$ | async)?.fullName || 'Super Admin'}}</span>
        </a>
        <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
          <a ngbDropdownItem routerLink="/admin/settings">
            <i class="typcn typcn-cog-outline text-primary"></i>
            Settings
          </a>
          <a ngbDropdownItem (click)="logout()">
            <i class="typcn typcn-eject text-primary"></i>
            Logout
          </a>
        </div>
      </li>
      <li class="nav-item nav-user-status dropdown">
        <p class="mb-0">Last login was {{ lastLoginTime || '23 hours ago' }}.</p>
      </li>
    </ul>
    <ul class="navbar-nav navbar-nav-right">
      <li class="nav-item nav-date dropdown">
        <a class="nav-link d-flex justify-content-center align-items-center" href="javascript:;">
          <h6 class="date mb-0">Today : {{ today | date:'MMM dd' }}</h6>
          <i class="typcn typcn-calendar"></i>
        </a>
      </li>
      <li class="nav-item" ngbDropdown>
        <a class="nav-link count-indicator d-flex justify-content-center align-items-center" id="messageDropdown" ngbDropdownToggle>
          <i class="typcn typcn-mail mx-0"></i>
          <span class="count" *ngIf="messages > 0"></span>
        </a>
        <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="messageDropdown">
          <p class="mb-0 fw-normal float-start dropdown-header">Messages</p>
          <a class="dropdown-item preview-item">
            <div class="preview-thumbnail">
                <img [src]="apiUrl + '/uploads/faces/face4.jpg'" alt="image" class="profile-pic" (error)="handleImageError($event)">
            </div>
            <div class="preview-item-content flex-grow">
              <h6 class="preview-subject ellipsis fw-normal">David Grey</h6>
              <p class="fw-light small-text text-muted mb-0">The meeting is cancelled</p>
            </div>
          </a>
          <a class="dropdown-item preview-item">
            <div class="preview-thumbnail">
                <img [src]="apiUrl + '/uploads/faces/face2.jpg'" alt="image" class="profile-pic" (error)="handleImageError($event)">
            </div>
            <div class="preview-item-content flex-grow">
              <h6 class="preview-subject ellipsis fw-normal">Tim Cook</h6>
              <p class="fw-light small-text text-muted mb-0">New product launch</p>
            </div>
          </a>
          <a class="dropdown-item preview-item">
            <div class="preview-thumbnail">
                <img [src]="apiUrl + '/uploads/faces/face3.jpg'" alt="image" class="profile-pic" (error)="handleImageError($event)">
            </div>
            <div class="preview-item-content flex-grow">
              <h6 class="preview-subject ellipsis fw-normal">Johnson</h6>
              <p class="fw-light small-text text-muted mb-0">Upcoming board meeting</p>
            </div>
          </a>
        </div>
      </li>
      <li class="nav-item me-0" ngbDropdown>
        <a class="nav-link count-indicator d-flex align-items-center justify-content-center" id="notificationDropdown" ngbDropdownToggle>
          <i class="typcn typcn-bell mx-0"></i>
          <span class="count" *ngIf="notifications > 0"></span>
        </a>
        <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
          <p class="mb-0 fw-normal float-start dropdown-header">Notifications</p>
          <a class="dropdown-item preview-item">
            <div class="preview-thumbnail">
              <div class="preview-icon bg-success"><i class="typcn typcn-info mx-0"></i></div>
            </div>
            <div class="preview-item-content">
              <h6 class="preview-subject fw-normal">Application Error</h6>
              <p class="fw-light small-text mb-0 text-muted">Just now</p>
            </div>
          </a>
          <a class="dropdown-item preview-item">
            <div class="preview-thumbnail">
              <div class="preview-icon bg-warning"><i class="typcn typcn-cog-outline mx-0"></i></div>
            </div>
            <div class="preview-item-content">
              <h6 class="preview-subject fw-normal">Settings</h6>
              <p class="fw-light small-text mb-0 text-muted">Private message</p>
            </div>
          </a>
          <a class="dropdown-item preview-item">
            <div class="preview-thumbnail">
              <div class="preview-icon bg-info"><i class="typcn typcn-user mx-0"></i></div>
            </div>
            <div class="preview-item-content">
              <h6 class="preview-subject fw-normal">New user registration</h6>
              <p class="fw-light small-text mb-0 text-muted">2 days ago</p>
            </div>
          </a>
        </div>
      </li>
    </ul>
    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" (click)="toggleMobileMenu()">
      <span class="typcn typcn-th-menu"></span>
    </button>
  </div>
</nav>
 
<!-- Secondary sub-navbar (PolluxUI style) -->
  <nav class="navbar-breadcrumb col-xl-12 col-12 d-flex flex-row p-0">
      <div class="navbar-links-wrapper d-flex align-items-stretch">
        <div class="nav-link">
          <a class="nav-icon" routerLink="/admin/analytics/sales" title="Sales">
            <i class="typcn typcn-chart-area-outline"></i>
          </a>
        </div>
        <div class="nav-link">
          <a class="nav-icon" routerLink="/admin/vendors" title="Vendors">
            <i class="typcn typcn-user"></i>
          </a>
        </div>
        <div class="nav-link">
          <a class="nav-icon" routerLink="/admin/users" title="Users">
            <i class="typcn typcn-contacts"></i>
          </a>
        </div>
        <div class="nav-link">
          <a class="nav-icon" routerLink="/admin/stock" title="Stock">
            <i class="typcn typcn-folder"></i>
          </a>
        </div>
      </div>
      <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
        <ul class="navbar-nav me-lg-2">
          <li class="nav-item ms-0">
            <h4 class="mb-0">Dashboard</h4>
          </li>
          <li class="nav-item">
            <div class="d-flex align-items-baseline">
              <p class="mb-0">Home</p>
              <i class="typcn typcn-chevron-right"></i>
              <p class="mb-0">Main Dahboard</p>
            </div>
          </li>
        </ul>
      <ul class="navbar-nav navbar-nav-right">
          <li class="nav-item nav-search d-none d-md-block me-0">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search..." aria-label="search" aria-describedby="search">
              <div class="input-group-prepend d-flex">
                <span class="input-group-text" id="search">
                  <i class="typcn typcn-zoom"></i>
                </span>
              </div>
            </div>
          </li>
         
        </ul>
      </div>
    </nav>

<!-- Statistics Panel -->
<div class="statistics-panel-wrapper" *ngIf="showStatisticsPanel">
  <app-statistics-toggle></app-statistics-toggle>
</div>