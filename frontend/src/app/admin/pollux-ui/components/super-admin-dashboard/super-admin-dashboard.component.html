<div class="container-scroller">
  <!-- Header -->
  <app-admin-header></app-admin-header>

  <!-- Page Container -->
  <div class="container-fluid page-body-wrapper">
    <!-- Sidebar -->
    <app-admin-sidebar></app-admin-sidebar>

    <!-- Main Content -->
    <div class="main-panel">
      <div class="content-wrapper">
        <!-- Loading State -->
        <div *ngIf="isLoading" class="row">
          <div class="col-12 text-center">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </div>

        <!-- Dashboard Content -->
        <div *ngIf="!isLoading">
          <!-- Stats Overview -->
          <div class="row">
            <div class="col-xl-3 col-lg-6 col-md-6 grid-margin stretch-card">
              <div class="card card-stat">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="stat-content">
                      <h4 class="mb-3">Total Users</h4>
                      <h2 class="mb-2">{{ stats?.totalUsers || 0 }}</h2>
                      <div class="stat-change" [class.text-success]="stats?.userGrowth > 0" [class.text-danger]="stats?.userGrowth < 0">
                        <i [class]="stats?.userGrowth > 0 ? 'typcn typcn-arrow-up-thick' : 'typcn typcn-arrow-down-thick'"></i>
                        {{ stats?.userGrowth }}% from last month
                      </div>
                    </div>
                    <div class="stat-icon">
                      <i class="typcn typcn-group-outline text-primary"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-3 col-lg-6 col-md-6 grid-margin stretch-card">
              <div class="card card-stat">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="stat-content">
                      <h4 class="mb-3">Total Revenue</h4>
                      <h2 class="mb-2">${{ stats?.totalRevenue || 0 }}</h2>
                      <div class="stat-change" [class.text-success]="stats?.revenueGrowth > 0" [class.text-danger]="stats?.revenueGrowth < 0">
                        <i [class]="stats?.revenueGrowth > 0 ? 'typcn typcn-arrow-up-thick' : 'typcn typcn-arrow-down-thick'"></i>
                        {{ stats?.revenueGrowth }}% from last month
                      </div>
                    </div>
                    <div class="stat-icon">
                      <i class="typcn typcn-chart-line-outline text-success"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-3 col-lg-6 col-md-6 grid-margin stretch-card">
              <div class="card card-stat">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="stat-content">
                      <h4 class="mb-3">Active Vendors</h4>
                      <h2 class="mb-2">{{ stats?.activeVendors || 0 }}</h2>
                      <div class="stat-change" [class.text-success]="stats?.vendorGrowth > 0" [class.text-danger]="stats?.vendorGrowth < 0">
                        <i [class]="stats?.vendorGrowth > 0 ? 'typcn typcn-arrow-up-thick' : 'typcn typcn-arrow-down-thick'"></i>
                        {{ stats?.vendorGrowth }}% from last month
                      </div>
                    </div>
                    <div class="stat-icon">
                      <i class="typcn typcn-shop text-info"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-3 col-lg-6 col-md-6 grid-margin stretch-card">
              <div class="card card-stat">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="stat-content">
                      <h4 class="mb-3">System Health</h4>
                      <h2 class="mb-2">{{ stats?.systemHealth || 0 }}%</h2>
                      <div class="stat-change text-success">
                        <i class="typcn typcn-tick-outline"></i>
                        All systems operational
                      </div>
                    </div>
                    <div class="stat-icon">
                      <i class="typcn typcn-heart-outline text-danger"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="row">
            <div class="col-12 grid-margin">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">Recent Activities</h4>
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>Time</th>
                          <th>Action</th>
                          <th>User</th>
                          <th>Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let activity of recentActivities">
                          <td>{{ activity.timestamp | date:'short' }}</td>
                          <td>{{ activity.action }}</td>
                          <td>{{ activity.user }}</td>
                          <td>
                            <div [class]="'badge badge-' + activity.status.toLowerCase()">
                              {{ activity.status }}
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>