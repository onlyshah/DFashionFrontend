<nav class="sidebar sidebar-offcanvas" id="sidebar">
  <ul class="nav">
    <li class="nav-item" [class.active]="isActiveRoute('/admin/dashboard')">
      <a class="nav-link" routerLink="/admin/dashboard">
        <i class="typcn typcn-device-desktop menu-icon"></i>
        <span class="menu-title">Dashboard</span>
        <div class="badge badge-danger">new</div>
      </a>
    </li>

    <li class="nav-item" [class.active]="isActiveRoute('/admin/users')">
      <a class="nav-link" data-bs-toggle="collapse" href="#user-management"
         role="button" [attr.aria-expanded]="isMenuExpanded('user-management')"
         aria-controls="user-management" (click)="toggleMenu('user-management')">
        <i class="typcn typcn-user-outline menu-icon"></i>
        <span class="menu-title">User Management</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="user-management" [class.show]="isMenuExpanded('user-management')">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/users">All Users</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/users/customers">Customers</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/users/vendors">Vendors</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/users/roles">Role Management</a>
          </li>
        </ul>
      </div>
    </li>

    <li class="nav-item" [class.active]="isActiveRoute('/admin/products')">
      <a class="nav-link" data-bs-toggle="collapse" href="#product-management"
         role="button" [attr.aria-expanded]="isMenuExpanded('product-management')"
         aria-controls="product-management" (click)="toggleMenu('product-management')">
        <i class="typcn typcn-shopping-bag menu-icon"></i>
        <span class="menu-title">Product Management</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="product-management" [class.show]="isMenuExpanded('product-management')">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/products">All Products</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/products/categories">Categories</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/products/inventory">Inventory</a>
          </li>
        </ul>
      </div>
    </li>

    <li class="nav-item" [class.active]="isActiveRoute('/admin/orders')">
      <a class="nav-link" routerLink="/admin/orders">
        <i class="typcn typcn-clipboard menu-icon"></i>
        <span class="menu-title">Order Management</span>
      </a>
    </li>

    <li class="nav-item" [class.active]="isActiveRoute('/admin/analytics')">
      <a class="nav-link" data-bs-toggle="collapse" href="#analytics"
         role="button" [attr.aria-expanded]="isMenuExpanded('analytics')"
         aria-controls="analytics" (click)="toggleMenu('analytics')">
        <i class="typcn typcn-chart-pie-outline menu-icon"></i>
        <span class="menu-title">Analytics</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="analytics" [class.show]="isMenuExpanded('analytics')">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/analytics">Overview</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/analytics/sales">Sales Reports</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/analytics/users">User Analytics</a>
          </li>
        </ul>
      </div>
    </li>

    <!-- Super Admin Only Features -->
    <li class="nav-item" [class.active]="isActiveRoute('/admin/system')" *ngIf="isSuperAdmin()">
      <a class="nav-link" data-bs-toggle="collapse" href="#system-management"
         role="button" [attr.aria-expanded]="isMenuExpanded('system-management')"
         aria-controls="system-management" (click)="toggleMenu('system-management')">
        <i class="typcn typcn-cog menu-icon"></i>
        <span class="menu-title">System Management</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="system-management" [class.show]="isMenuExpanded('system-management')">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/system/logs">System Logs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/system/monitoring">Monitoring</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/system/backup">Backup & Restore</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/system/maintenance">Maintenance</a>
          </li>
        </ul>
      </div>
    </li>

    <li class="nav-item" [class.active]="isActiveRoute('/admin/settings')">
      <a class="nav-link" data-bs-toggle="collapse" href="#settings"
         role="button" [attr.aria-expanded]="isMenuExpanded('settings')"
         aria-controls="settings" (click)="toggleMenu('settings')">
        <i class="typcn typcn-cog-outline menu-icon"></i>
        <span class="menu-title">Settings</span>
        <i class="menu-arrow"></i>
      </a>
      <div class="collapse" id="settings" [class.show]="isMenuExpanded('settings')">
        <ul class="nav flex-column sub-menu">
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/settings/general">General</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/settings/payments">Payment Settings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/settings/notifications">Notifications</a>
          </li>
          <li class="nav-item" *ngIf="isSuperAdmin()">
            <a class="nav-link" routerLink="/admin/settings/application">Application Config</a>
          </li>
        </ul>
      </div>
    </li>

    <li class="nav-item">
      <a class="nav-link" href="javascript:;" (click)="logout()">
        <i class="typcn typcn-power-outline menu-icon"></i>
        <span class="menu-title">Logout</span>
      </a>
    </li>
  </ul>
</nav>
