<nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
  <div class="navbar-brand-wrapper d-flex justify-content-center">
    <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
      <a class="navbar-brand brand-logo" routerLink="/admin/dashboard">
        <img src="assets/pollux/images/logo.svg" alt="logo"/>
      </a>
      <a class="navbar-brand brand-logo-mini" routerLink="/admin/dashboard">
        <img src="assets/pollux/images/logo.svg" alt="logo"/>
      </a>
      <button class="navbar-toggler navbar-toggler align-self-center" type="button" (click)="toggleSidebar()">
        <span class="typcn typcn-th-menu"></span>
      </button>
    </div>
  </div>
  <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
    <ul class="navbar-nav me-lg-2">
  <li class="nav-item nav-profile dropdown" *ngIf="currentUser?.role === 'admin' || currentUser?.role === 'super_admin'">
        <a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button"
           data-bs-toggle="dropdown" aria-expanded="false">
          <img [src]="imageUrl + currentUser?.avatar || 'uploads/default/default-avatar.png'" alt="profile"/>
          <span class="nav-profile-name">{{ currentUser?.fullName || 'Admin User' }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end navbar-dropdown" aria-labelledby="profileDropdown">
          <li><a class="dropdown-item" routerLink="/admin/profile">
            <i class="typcn typcn-cog-outline text-primary"></i>
            Settings
          </a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="javascript:;" (click)="logout()">
            <i class="typcn typcn-eject text-primary"></i>
            Logout
          </a></li>
        </ul>
      </li>
  <li class="nav-item nav-user-status dropdown" *ngIf="currentUser?.role === 'admin' || currentUser?.role === 'super_admin'">
        <p class="mb-0">Last login was {{ getLastLoginTime() }}.</p>
      </li>
    </ul>
    <ul class="navbar-nav navbar-nav-right">
  <li class="nav-item nav-date dropdown" *ngIf="currentUser?.role === 'admin' || currentUser?.role === 'super_admin'">
        <a class="nav-link d-flex justify-content-center align-items-center" href="javascript:;">
          <h6 class="date mb-0">Today : {{ getCurrentDate() }}</h6>
          <i class="typcn typcn-calendar"></i>
        </a>
      </li>
  <!-- Admin & Super Admin Messages -->
  <li class="nav-item dropdown" *ngIf="currentUser?.role === 'admin' || currentUser?.role === 'super_admin'">
        <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center"
           id="messageDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="typcn typcn-mail mx-0"></i>
          <span class="count" *ngIf="messageCount > 0">{{ messageCount }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list" aria-labelledby="messageDropdown">
          <li><h6 class="dropdown-header">Messages</h6></li>
          <li *ngFor="let message of recentMessages">
            <a class="dropdown-item preview-item" href="javascript:;">
              <div class="preview-thumbnail">
                <img [src]="message.avatar" alt="image" class="profile-pic">
              </div>
              <div class="preview-item-content flex-grow">
                <h6 class="preview-subject ellipsis fw-normal">{{ message.sender }}</h6>
              </div>
              <p class="mb-0">{{ message.content }}</p>
            </a>
          </li>
        </ul>
      </li>
  <!-- Vendor Messages -->
  <li class="nav-item dropdown" *ngIf="currentUser?.role === 'vendor'">
        <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center"
           id="messageDropdownVendor" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="typcn typcn-mail mx-0"></i>
          <span class="count" *ngIf="messageCount > 0">{{ messageCount }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list" aria-labelledby="messageDropdownVendor">
          <li><h6 class="dropdown-header">Vendor Messages</h6></li>
          <li *ngFor="let message of recentMessages">
            <a class="dropdown-item preview-item" href="javascript:;">
              <div class="preview-thumbnail">
                <img [src]="message.avatar" alt="image" class="profile-pic">
              </div>
              <div class="preview-item-content flex-grow">
                <h6 class="preview-subject ellipsis fw-normal">{{ message.sender }}</h6>
              </div>
              <p class="mb-0">{{ message.content }}</p>
            </a>
          </li>
        </ul>
      </li>
  <!-- Customer Messages -->
  <li class="nav-item dropdown" *ngIf="currentUser?.role === 'end_user' && !currentUser?.isInfluencer">
        <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center"
           id="messageDropdownCustomer" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="typcn typcn-mail mx-0"></i>
          <span class="count" *ngIf="messageCount > 0">{{ messageCount }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list" aria-labelledby="messageDropdownCustomer">
          <li><h6 class="dropdown-header">Customer Messages</h6></li>
          <li *ngFor="let message of recentMessages">
            <a class="dropdown-item preview-item" href="javascript:;">
              <div class="preview-thumbnail">
                <img [src]="message.avatar" alt="image" class="profile-pic">
              </div>
              <div class="preview-item-content flex-grow">
                <h6 class="preview-subject ellipsis fw-normal">{{ message.sender }}</h6>
              </div>
              <p class="mb-0">{{ message.content }}</p>
            </a>
          </li>
        </ul>
      </li>
  <!-- Influencer Messages -->
  <li class="nav-item dropdown" *ngIf="currentUser?.role === 'end_user' && currentUser?.isInfluencer">
        <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center"
           id="messageDropdownInfluencer" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="typcn typcn-mail mx-0"></i>
          <span class="count" *ngIf="messageCount > 0">{{ messageCount }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list" aria-labelledby="messageDropdownInfluencer">
          <li><h6 class="dropdown-header">Influencer Messages</h6></li>
          <li *ngFor="let message of recentMessages">
            <a class="dropdown-item preview-item" href="javascript:;">
              <div class="preview-thumbnail">
                <img [src]="message.avatar" alt="image" class="profile-pic">
              </div>
              <div class="preview-item-content flex-grow">
                <h6 class="preview-subject ellipsis fw-normal">{{ message.sender }}</h6>
              </div>
              <p class="mb-0">{{ message.content }}</p>
            </a>
          </li>
        </ul>
      </li>
  <li class="nav-item dropdown me-0" *ngIf="currentUser?.role === 'admin' || currentUser?.role === 'super_admin'">
        <a class="nav-link count-indicator dropdown-toggle d-flex align-items-center justify-content-center"
           id="notificationDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="typcn typcn-bell mx-0"></i>
          <span class="count" *ngIf="notificationCount > 0">{{ notificationCount }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
          <li><h6 class="dropdown-header">Notifications</h6></li>
          <li *ngFor="let notification of recentNotifications">
            <a class="dropdown-item preview-item" href="javascript:;">
              <div class="preview-thumbnail">
                <div class="preview-icon" [ngClass]="notification.iconClass">
                  <i [class]="notification.icon"></i>
                </div>
              </div>
              <div class="preview-item-content">
                <h6 class="preview-subject fw-normal">{{ notification.title }}</h6>
                <p class="fw-light small-text mb-0 text-muted">{{ notification.time }}</p>
              </div>
            </a>
          </li>
        </ul>
      </li>
    </ul>
    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" (click)="toggleOffcanvas()">
      <span class="typcn typcn-th-menu"></span>
    </button>
  </div>
</nav>
