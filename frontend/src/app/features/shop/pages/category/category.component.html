<div class="category-page">
  <div class="category-header">
    <h1>{{ categoryName | titlecase }}</h1>
    <p>{{ productCount }} products found</p>
  </div>
  <div class="filters-section">
    <div class="filter-chips">
      <button *ngFor="let filter of activeFilters" class="filter-chip" (click)="removeFilter(filter)">
        {{ filter.label }}
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
  <div class="products-grid" *ngIf="!isLoading">
    <div *ngFor="let product of products" class="product-card" (click)="viewProduct(product._id)">
      <div class="product-image">
        <img [src]="product.images[0]?.url" [alt]="product.name">
        <button class="wishlist-btn" (click)="toggleWishlist(product._id, $event)">
          <i class="far fa-heart"></i>
        </button>
      </div>
      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p class="brand">{{ product.brand }}</p>
        <div class="price">
          <span class="current-price">₹{{ product.price | number }}</span>
          <span class="original-price" *ngIf="product.originalPrice">₹{{ product.originalPrice | number }}</span>
        </div>
        <div class="rating" *ngIf="product.rating">
          <div class="stars">
            <i *ngFor="let star of getStars(product.rating.average)" [class]="star"></i>
          </div>
          <span>({{ product.rating.count }})</span>
        </div>
      </div>
    </div>
  </div>
  <div class="loading-container" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>Loading products...</p>
  </div>
  <div class="empty-state" *ngIf="!isLoading && products.length === 0">
    <i class="fas fa-search"></i>
    <h3>No products found</h3>
    <p>Try adjusting your filters or search terms</p>
  </div>
</div>