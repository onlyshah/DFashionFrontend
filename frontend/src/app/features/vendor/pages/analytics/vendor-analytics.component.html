<div class="vendor-analytics-container">
  <div class="header">
    <h1>Analytics Dashboard</h1>
    <div class="date-filter">
      <select [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
        <option value="7">Last 7 days</option>
        <option value="30">Last 30 days</option>
        <option value="90">Last 3 months</option>
        <option value="365">Last year</option>
      </select>
    </div>
  </div>

  <!-- Key Metrics -->
  <div class="metrics-grid">
    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-rupee-sign"></i>
      </div>
      <div class="metric-content">
        <h3>₹{{ analytics.revenue | number:'1.0-0' }}</h3>
        <p>Total Revenue</p>
        <span class="metric-change positive">+12.5%</span>
      </div>
    </div>
    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-shopping-cart"></i>
      </div>
      <div class="metric-content">
        <h3>{{ analytics.orders }}</h3>
        <p>Total Orders</p>
        <span class="metric-change positive">+8.3%</span>
      </div>
    </div>
    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-eye"></i>
      </div>
      <div class="metric-content">
        <h3>{{ analytics.views | number:'1.0-0' }}</h3>
        <p>Product Views</p>
        <span class="metric-change positive">+15.7%</span>
      </div>
    </div>
    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-percentage"></i>
      </div>
      <div class="metric-content">
        <h3>{{ analytics.conversionRate }}%</h3>
        <p>Conversion Rate</p>
        <span class="metric-change negative">-2.1%</span>
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="charts-section">
    <div class="chart-card">
      <h3>Revenue Trend</h3>
      <div class="chart-placeholder">
        <div class="chart-bars">
          <div class="bar" *ngFor="let data of revenueData" [style.height.%]="data.percentage">
            <span class="bar-value">₹{{ data.value | number:'1.0-0' }}</span>
          </div>
        </div>
        <div class="chart-labels">
          <span *ngFor="let label of chartLabels">{{ label }}</span>
        </div>
      </div>
    </div>
    <div class="chart-card">
      <h3>Order Status Distribution</h3>
      <div class="pie-chart">
        <div class="pie-item" *ngFor="let item of orderStatusData">
          <div class="pie-color" [style.background-color]="item.color"></div>
          <span class="pie-label">{{ item.label }}</span>
          <span class="pie-value">{{ item.value }}%</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Top Products -->
  <div class="top-products-section">
    <h3>Top Performing Products</h3>
    <div class="products-table">
      <div class="table-header">
        <span>Product</span>
        <span>Views</span>
        <span>Orders</span>
        <span>Revenue</span>
        <span>Conversion</span>
      </div>
      <div class="table-row" *ngFor="let product of topProducts">
        <div class="product-info">
          <img [src]="product.image" [alt]="product.name">
          <span>{{ product.name }}</span>
        </div>
        <span>{{ product.views | number:'1.0-0' }}</span>
        <span>{{ product.orders }}</span>
        <span>₹{{ product.revenue | number:'1.0-0' }}</span>
        <span>{{ product.conversion }}%</span>
      </div>
    </div>
  </div>

  <!-- Social Media Performance -->
  <div class="social-performance">
    <h3>Content Performance</h3>
    <div class="performance-grid">
      <div class="performance-card">
        <h4>Posts</h4>
        <div class="performance-stats">
          <div class="stat">
            <span class="stat-value">{{ socialStats.posts.total }}</span>
            <span class="stat-label">Total Posts</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ socialStats.posts.likes }}</span>
            <span class="stat-label">Total Likes</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ socialStats.posts.comments }}</span>
            <span class="stat-label">Comments</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ socialStats.posts.shares }}</span>
            <span class="stat-label">Shares</span>
          </div>
        </div>
      </div>
      <div class="performance-card">
        <h4>Stories</h4>
        <div class="performance-stats">
          <div class="stat">
            <span class="stat-value">{{ socialStats.stories.total }}</span>
            <span class="stat-label">Total Stories</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ socialStats.stories.views }}</span>
            <span class="stat-label">Total Views</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ socialStats.stories.replies }}</span>
            <span class="stat-label">Replies</span>
          </div>
          <div class="stat">
            <span class="stat-value">{{ socialStats.stories.productClicks }}</span>
            <span class="stat-label">Product Clicks</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>