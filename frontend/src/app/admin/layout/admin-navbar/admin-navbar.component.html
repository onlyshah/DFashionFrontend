<nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
  <div class="navbar-brand-wrapper d-flex justify-content-center">
    <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
      <a class="navbar-brand brand-logo" routerLink="/admin/dashboard">
        <img src="assets/pollux/images/logo.svg" alt="logo"/>
      </a>
      <a class="navbar-brand brand-logo-mini" routerLink="/admin/dashboard">
        <img src="assets/pollux/images/logo-mini.svg" alt="logo"/>
      </a>
      <button class="navbar-toggler navbar-toggler align-self-center" type="button" (click)="toggleSidebar()">
        <span class="typcn typcn-th-menu"></span>
      </button>
    </div>
  </div>
  <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
    <ul class="navbar-nav me-lg-2">
      <li class="nav-item nav-profile dropdown">
        <a class="nav-link" href="#" data-bs-toggle="dropdown" id="profileDropdown">
          <img [src]="currentUser?.avatar || 'assets/pollux/images/faces/face5.jpg'" alt="profile"/>
          <span class="nav-profile-name">{{ currentUser?.fullName || 'Admin User' }}</span>
        </a>
        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
          <a class="dropdown-item" routerLink="/admin/profile">
            <i class="typcn typcn-cog-outline text-primary"></i>
            Settings
          </a>
          <a class="dropdown-item" (click)="logout()">
            <i class="typcn typcn-eject text-primary"></i>
            Logout
          </a>
        </div>
      </li>
      <li class="nav-item nav-user-status dropdown">
        <p class="mb-0">Last login was {{ getLastLoginTime() }}.</p>
      </li>
    </ul>
    <ul class="navbar-nav navbar-nav-right">
      <li class="nav-item nav-date dropdown">
        <a class="nav-link d-flex justify-content-center align-items-center" href="javascript:;">
          <h6 class="date mb-0">Today : {{ getCurrentDate() }}</h6>
          <i class="typcn typcn-calendar"></i>
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link count-indicator dropdown-toggle d-flex justify-content-center align-items-center"
           id="messageDropdown" href="#" data-bs-toggle="dropdown">
          <i class="typcn typcn-mail mx-0"></i>
          <span class="count" *ngIf="messageCount > 0">{{ messageCount }}</span>
        </a>
        <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="messageDropdown">
          <p class="mb-0 fw-normal float-start dropdown-header">Messages</p>
          <div *ngFor="let message of recentMessages" class="dropdown-item preview-item">
            <div class="preview-thumbnail">
              <img [src]="message.avatar" alt="image" class="profile-pic">
            </div>
            <div class="preview-item-content flex-grow">
              <h6 class="preview-subject ellipsis fw-normal">{{ message.sender }}</h6>
              <p class="fw-light small-text text-muted mb-0">{{ message.content }}</p>
            </div>
          </div>
        </div>
      </li>
      <li class="nav-item dropdown me-0">
        <a class="nav-link count-indicator dropdown-toggle d-flex align-items-center justify-content-center"
           id="notificationDropdown" href="#" data-bs-toggle="dropdown">
          <i class="typcn typcn-bell mx-0"></i>
          <span class="count" *ngIf="notificationCount > 0">{{ notificationCount }}</span>
        </a>
        <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
          <p class="mb-0 fw-normal float-start dropdown-header">Notifications</p>
          <div *ngFor="let notification of recentNotifications" class="dropdown-item preview-item">
            <div class="preview-thumbnail">
              <div class="preview-icon" [ngClass]="notification.iconClass">
                <i [class]="notification.icon"></i>
              </div>
            </div>
            <div class="preview-item-content">
              <h6 class="preview-subject fw-normal">{{ notification.title }}</h6>
              <p class="fw-light small-text mb-0 text-muted">{{ notification.time }}</p>
            </div>
          </div>
        </div>
      </li>
    </ul>
    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" (click)="toggleOffcanvas()">
      <span class="typcn typcn-th-menu"></span>
    </button>
  </div>
</nav>
