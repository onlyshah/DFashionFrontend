/* Theme overrides for Pollux UI - import local copy of Pollux variables */
@use '../../../../assets/scss/_pollux-variables.scss' as pollux;

:root {
  --sidebar-width: #{pollux.$sidebar-width-lg};
  --navbar-height: #{pollux.$navbar-height};
  --sidebar-bg: #{pollux.$sidebar-dark-bg};
  --sidebar-text: #{pollux.$sidebar-dark-menu-color};
  --sidebar-hover-bg: #{pollux.$sidebar-dark-menu-hover-bg};
  --sidebar-hover-text: #{pollux.$sidebar-dark-profile-name-color};
  --submenu-bg: #{pollux.$sidebar-dark-bg};
}

/* Layout Container */
.page-body-wrapper {
     min-height: calc(100vh - 4.625rem);
    display: -webkit-flex;
    display: flex;
    -webkit-flex-direction: row;
    flex-direction: row;
    padding-left: 0;
    padding-right: 0;
    padding-top: 1.875rem;
    background: #f4f5fa;
}

/* Fixed Sidebar */
.sidebar-wrapper {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  z-index: 1000;
  transition: width 0.25s ease;
}

.sidebar {
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  position: fixed;
  width: var(--sidebar-width);
  background: var(--sidebar-bg);
  padding-top: var(--navbar-height);
  transition: width 0.25s ease;

  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
  }
}

/* Main Content Area */
.main-panel {
  margin-left: var(--sidebar-width);
  flex: 1;
  min-height: calc(100vh - var(--navbar-height));
  overflow-y: auto;
  position: relative;
  transition: margin 0.25s ease;
}

/* Navigation Styles */
.nav-item {
  position: relative;
  width: 100%;

  .nav-link {
    padding: 12px 25px;
    display: flex;
    align-items: center;
    position: relative;
    color: var(--sidebar-text);
    
    .menu-title {
      margin-left: 15px;
    }
    
    .menu-arrow {
      margin-left: auto;
      transition: transform 0.3s ease;
    }
    
    &.expanded .menu-arrow {
      transform: rotate(90deg);
    }
  }
  
  .sub-menu {
    background: var(--submenu-bg);
    overflow: hidden;
    transition: max-height 0.3s ease-out;
    max-height: 0;
    
    &.expanded {
      max-height: 1000px;
    }
    
    .nav-link {
      padding-left: 50px;
      font-size: 0.875rem;
    }
  }
}

/* Sidebar Icon Only State */
.sidebar-icon-only {
  .navbar-brand-wrapper {
    width: var(--sidebar-mini-width) !important;
    transition: width var(--transition-duration) var(--transition-timing);

    .brand-logo {
      display: none;
    }
    .brand-logo-mini {
      display: inline-block;
    }
  }

  .navbar-menu-wrapper {
    width: calc(100% - var(--sidebar-mini-width)) !important;
    transition: width var(--transition-duration) var(--transition-timing);
  }

  .sidebar {
    width: var(--sidebar-mini-width);
    transition: width var(--transition-duration) var(--transition-timing);
    
    .nav-item {
      position: relative;
      
      .nav-link {
        padding: 16px 22px;
        text-align: center;
        transition: all var(--transition-duration) var(--transition-timing);
        
        .menu-title,
        .menu-arrow,
        .menu-sub-title {
          display: none;
        }
        
        i.menu-icon {
          margin: 0;
          font-size: 1.25rem;
        }
      }
      
      &:hover {
        .nav-link {
          position: relative;
          width: var(--sidebar-width);
          background: var(--sidebar-hover-bg);
          padding-left: 22px;
          
          .menu-title {
            display: inline-block;
            margin-left: 14px;
            animation: slideInRight 0.3s ease;
            color: var(--sidebar-hover-text);
          }

          &::after {
            position: absolute;
            right: 0;
            top: 0;
            width: 2px;
            height: 100%;
            background: var(--sidebar-hover-text);
            content: '';
          }
        }
        
        .sub-menu {
          display: block;
          position: absolute;
          left: var(--sidebar-mini-width);
          top: 0;
          width: calc(var(--sidebar-width) - var(--sidebar-mini-width));
          z-index: 999;
          background: var(--submenu-bg);
          padding: 0;
          box-shadow: 4px 0 10px rgba(0, 0, 0, 0.15);
          
          .nav-link {
            width: 100%;
            padding: 12px 20px;
            border-left: 0;
            position: relative;
            opacity: 0.86;
            
            &:hover {
              opacity: 1;
              background: var(--sidebar-hover-bg);
            }
          }
        }
      }
    }
  }
  
  .main-panel {
    margin-left: var(--sidebar-mini-width);
    width: calc(100% - var(--sidebar-mini-width));
    transition: margin var(--transition-duration) var(--transition-timing),
                width var(--transition-duration) var(--transition-timing);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}